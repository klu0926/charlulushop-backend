<nav class="navbar">
  <a href="/items/add" class='nav-link {{isCurrentPage page 'add'}}'>新增</a>
  <a href="/items" class='nav-link {{isCurrentPage page 'items'}}'>全部</a>
  <a href="/tags/add" class='nav-link {{isCurrentPage page 'tags'}}'>標籤</a>

  {{#if isAuth}}
  <a id='logout' class="nav-link secondary" href="/users/logout">登出</a>
  {{else}}
     <a href="/users/login" class='nav-link secondary {{isCurrentPage page 'login'}}'>登入</a>
  {{/if}}
</nav>


<script type="module">
  import sweetAlert from '/js/sweetAlert.js'

  const logout = document.querySelector('#logout')

  async function handleLogout(e){
   e.preventDefault()
   const result = await sweetAlert.confirm('登出', '你確定要登出嗎？')
   console.log(result)
   if (result && result.isConfirmed){
    window.location.href =  logout.href
   } 
  }

  if (logout){
  logout.onclick = handleLogout
  }


</script>
